<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<div id="main"></div>
<script>
    var wasmSupported = typeof WebAssembly === 'object' && WebAssembly.validate(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00));

    var stockfish = new Worker(wasmSupported ? 'stockfish.js/stockfish.wasm.js' : 'stockfish.js');

    const $main=document.getElementById('main')
    const messages=[]


    stockfish.addEventListener('message', function (e) {
        messages.push(e.data)
        $main.innerHTML=messages.join('<br>')
    });

    stockfish.postMessage('uci');
    stockfish.postMessage("ucinewgame");
    stockfish.postMessage('position startpos move e2e4 e7e5 g1f3 d8h4 f3h4')
    stockfish.postMessage('go movetime 3000')
    // stockfish.postMessage("go depth 20");
    </script>
</body>
</html>
